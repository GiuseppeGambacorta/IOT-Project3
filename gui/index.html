<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Rimosso script htmx -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>HMI</title>
    <script src="script.js"></script>
</head>

<body>
    <header>
        <nav>
            <ul>
                <li><strong>IOT Progetto 3</strong></li>
            </ul>
            <ul>
                <li><a href="#" data-device="server">Server</a></li>
                <li><a href="#" data-device="arduino">Arduino</a></li>
                <li><a href="#" data-device="esp32">ESP32</a></li>
            </ul>
        </nav>
    </header>

    <main>

        <div class="dashboard-row">
            <section class="dashboard-col">
                <h2>Andamento Temperatura</h2>
                <canvas id="tempChart"></canvas>
            </section>
            <section class="dashboard-col">
                <div class="system-info">
                    <h2>Stato Sistema</h2>
                    <ul>
                        <li>Temperatura attuale: <span id="temp-current">--</span> °C</li>
                        <li>Temperatura media: <span id="temp-avg">--</span> °C</li>
                        <li>Temperatura max: <span id="temp-max">--</span> °C</li>
                        <li>Temperatura min: <span id="temp-min">--</span> °C</li>

                        <li>Stato sistema: 
                            <span id="system-status">NORMAL</span>
                        </li>
                        
                        <li>Apertura finestra: 
                            <span id="window-level">0</span>%
                        </li>
                    </ul>
                </div>
            </section>
        </div>

        <div class="manual-control">
            <section>
                <h2>Controllo Manuale Finestra</h2>
                <span id="actual-mode">Modalità Attuale</span>
                <div class="button-top">
                    <button id="cambia-modalita">Modalita Manuale</button>
                </div>
                <div class="button-row">
                    <button id="open-window">Apri Finestra</button>
                    <button id="close-window">Chiudi Finestra</button>
                </div>

            </section>
        </div>

    </main>

    <footer>

        <div class="alarm-control-footer">
            <button id="reset-alarm">Problema Risolto</button>
        </div>

    </footer>
  
</body>

</html>